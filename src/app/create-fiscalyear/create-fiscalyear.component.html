 <div class="card">
    <div class="card-header">
      Fiscal year
    </div>
  
  <div class="card-body">
 <form [formGroup]='fiscalYearForm' (ngSubmit)='addFiscalYear()'  novalidate >
  
  <div class="form-group row mb-2">
    <label for="id" class="col-md-2 col-form-label">Id</label>
    <div class="col-md-8">
    <input type="number" formControlName="id" placeholder="Id" name="id" class="form-control" id="id"
    [ngClass]="{'is-invalid': (fiscalYearForm.get('id').touched ||
    fiscalYearForm.get('id').dirty) &&
    !fiscalYearForm.get('id').valid }" />

    <span class="invalid-feedback">
        <span *ngIf="fiscalYearForm.get('id').errors?.required">
          Please enter the Id.
        </span>
        <span *ngIf="fiscalYearForm.get('id').errors?.max">
          Id must be less than 128
        </span>
      </span>
  </div>
  
  </div>

  <div class="form-group row mb-2">
    <label for="yearDescription" class="col-md-2 col-form-label">Year Description</label>
    <div class="col-md-8">
    <input type="number" formControlName="yearDescription" placeholder="Year Description" name="yearDescription" class="form-control" id="yearDescription"
    [ngClass]="{'is-invalid': (fiscalYearForm.get('yearDescription').touched ||
    fiscalYearForm.get('yearDescription').dirty) &&
    !fiscalYearForm.get('yearDescription').valid }" />
    <span class="invalid-feedback">
        <span *ngIf="fiscalYearForm.get('yearDescription').errors?.required">
          Please enter the Year
        </span>
        <span *ngIf="fiscalYearForm.get('yearDescription').errors?.max || fiscalYearForm.get('yearDescription').errors?.min ">
          Year must be of 4 digits
        </span>
      </span>
  </div>
  </div>

  <div class="form-group  row mb-2">
    <label for="startDate" class="col-md-2 col-form-label">Start Date:</label>
    <div class="col-md-8">
    <!-- <input formControlName="startDate" placeholder="Start Date" 
    name="startDate" class="form-control" id="startDate"> -->

  <input formControlName="startDate"  id="startDate" name="startDate" matInput [matDatepicker]="startDate" placeholder="Start date">
    <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
  <mat-datepicker #startDate></mat-datepicker>

    </div>
  </div>

  <div class="form-group  row mb-2">
    <label for="endDate" class="col-md-2 col-form-label">End Date:</label>
    <div class="col-md-8">
    <!-- <input formControlName="endDate" placeholder="End Date" name="endDate" class="form-control" id="endDate"> -->
    <input formControlName="endDate"  id="endDate" name="endDate" matInput [matDatepicker]="endDate" placeholder="End date">
    <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
  <mat-datepicker #endDate></mat-datepicker>  
  </div>
  </div>

  <div class="form-group row mb-2">
    <label class="col-md-2 col-form-label">Is Current Year? </label>
    <div class="col-md-8">
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input class="form-check-input"
                 type="radio"
                 value="true"
                 formControlName="isCurrent">Yes
        </label>
      </div>
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input class="form-check-input"
                 type="radio"
                 value="false"
                 formControlName="isCurrent">No
        </label>
      </div>
    </div>
  </div>
  <div class="form-group row mb-2">
    <label class="col-md-2 col-form-label">Is Open? </label>
    <div class="col-md-8">
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input class="form-check-input"
                 type="radio"
                 value="true"
                 formControlName="isOpen">Yes
        </label>
      </div>
      <div class="form-check form-check-inline">
        <label class="form-check-label">
          <input class="form-check-input"
                 type="radio"
                 value="false"
                 formControlName="isOpen">No
        </label>
      </div>
    </div>
  </div>

  <button type= "submit" class="btn btn-success" [disabled]="!fiscalYearForm.valid">Add</button>
  <!-- <button class= 'btn btn-info'>Add</button> -->
</form>
</div>
</div>

  <br><br>
  <table class ="table table-striped table-responsive">
    <tr>
      <th>Id</th>
      <th>Year Description</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Is Current Year?</th>
      <th>Is Open Year?</th>
      <th>Actions</th>
    </tr>
    <tr *ngFor="let u of fiscalYears">
      <td>
        {{u.id}}
      </td>
      <td>
        {{u.yearDescription}}
      </td>
      <td>
        {{u.startDate  | date:'shortDate'}}
      </td>
      <td>
        {{u.endDate | date:'shortDate'}}
      </td>
      <td>
        {{u.isCurrent }}
      </td>
      <td>
        {{u.isOpen}}
      </td>
      <td>
          <button class= 'btn btn-danger' (click)='deleteYear(u.id)'>Delete Year </button>
      </td>
    </tr>
  </table>
